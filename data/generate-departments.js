/****************************************************************************
 * Outputs organized JSON representing all of Berkeley's departments.
 * Designed for Chrome 38+ (to run in console).
 ****************************************************************************/

// From schedulebuilder.berkeley.edu
var departments = [{"id": 97, "name": "Aerospace Studies"}, {"id": 97, "name": "AEROSPC"}, {"id": 1, "name": "African American Studies"}, {"id": 1, "name": "AFRICAM"}, {"id": 71, "name": "Afrikaans"}, {"id": 71, "name": "AFRKANS"}, {"id": 2, "name": "Agricultural and Environmental Chemistry"}, {"id": 2, "name": "AGR CHM"}, {"id": 4, "name": "Agricultural and Resource Economics and Policy"}, {"id": 4, "name": "A,RESEC"}, {"id": 47, "name": "Altaic"}, {"id": 47, "name": "ALTAIC"}, {"id": 5, "name": "American Studies"}, {"id": 5, "name": "AMERSTD"}, {"id": 6, "name": "Ancient History and Mediterranean Archaeology"}, {"id": 6, "name": "AHMA"}, {"id": 7, "name": "Anthropology"}, {"id": 7, "name": "ANTHRO"}, {"id": 8, "name": "Applied Science and Technology"}, {"id": 8, "name": "AST"}, {"id": 106, "name": "Arabic"}, {"id": 106, "name": "ARABIC"}, {"id": 9, "name": "Architecture"}, {"id": 9, "name": "ARCH"}, {"id": 13, "name": "Asian American Studies"}, {"id": 13, "name": "ASAMST"}, {"id": 14, "name": "Asian Studies"}, {"id": 14, "name": "ASIANST"}, {"id": 15, "name": "Astronomy"}, {"id": 15, "name": "ASTRON"}, {"id": 142, "name": "Bengali"}, {"id": 142, "name": "BANGLA"}, {"id": 23, "name": "Berkeley/Columbia MBA Program"}, {"id": 23, "name": "XMBA"}, {"id": 16, "name": "Bioengineering"}, {"id": 16, "name": "BIO ENG"}, {"id": 16, "name": "BIOE"}, {"id": 159, "name": "Biology"}, {"id": 159, "name": "BIOLOGY"}, {"id": 17, "name": "Biophysics"}, {"id": 17, "name": "BIOPHY"}, {"id": 18, "name": "Buddhist Studies"}, {"id": 18, "name": "BUDDSTD"}, {"id": 154, "name": "Catalan"}, {"id": 154, "name": "CATALAN"}, {"id": 26, "name": "Celtic Studies"}, {"id": 26, "name": "CELTIC"}, {"id": 27, "name": "Chemical and Biomolecular Engineering"}, {"id": 27, "name": "CHM ENG"}, {"id": 27, "name": "CHEME"}, {"id": 28, "name": "Chemistry"}, {"id": 28, "name": "CHEM"}, {"id": 29, "name": "Chicano Studies"}, {"id": 29, "name": "CHICANO"}, {"id": 45, "name": "Chinese"}, {"id": 45, "name": "CHINESE"}, {"id": 30, "name": "City and Regional Planning"}, {"id": 30, "name": "CY PLAN"}, {"id": 31, "name": "Civil and Environmental Engineering"}, {"id": 31, "name": "CIV ENG"}, {"id": 31, "name": "CEE"}, {"id": 32, "name": "Classics"}, {"id": 32, "name": "CLASSIC"}, {"id": 35, "name": "Cognitive Science"}, {"id": 35, "name": "COG SCI"}, {"id": 36, "name": "College Writing Program"}, {"id": 36, "name": "COLWRIT"}, {"id": 37, "name": "Comparative Biochemistry"}, {"id": 37, "name": "COMPBIO"}, {"id": 38, "name": "Comparative Literature"}, {"id": 38, "name": "COM LIT"}, {"id": 1181, "name": "Computational Biology"}, {"id": 1181, "name": "CMPBIO"}, {"id": 1181, "name": "COMP BIO"}, {"id": 53, "name": "Computer Science"}, {"id": 53, "name": "COMPSCI"}, {"id": 53, "name": "CS"}, {"id": 40, "name": "Critical Theory Graduate Group"}, {"id": 40, "name": "CRIT TH"}, {"id": 107, "name": "Cuneiform"}, {"id": 107, "name": "CUNEIF"}, {"id": 41, "name": "Demography"}, {"id": 41, "name": "DEMOG"}, {"id": 1183, "name": "Development Engineering"}, {"id": 1183, "name": "DEV ENG"}, {"id": 1183, "name": "DEV ENG"}, {"id": 1171, "name": "Development Practice"}, {"id": 1171, "name": "DEVP"}, {"id": 42, "name": "Development Studies"}, {"id": 42, "name": "DEV STD"}, {"id": 25, "name": "Doctoral Program in Business Administration"}, {"id": 25, "name": "PHDBA"}, {"id": 70, "name": "Dutch"}, {"id": 70, "name": "DUTCH"}, {"id": 43, "name": "Earth and Planetary Science"}, {"id": 43, "name": "EPS"}, {"id": 44, "name": "East Asian Languages and Cultures"}, {"id": 44, "name": "EA LANG"}, {"id": 135, "name": "East European Studies"}, {"id": 135, "name": "EAEURST"}, {"id": 50, "name": "Economics"}, {"id": 50, "name": "ECON"}, {"id": 51, "name": "Education"}, {"id": 51, "name": "EDUC"}, {"id": 108, "name": "Egyptian"}, {"id": 108, "name": "EGYPT"}, {"id": 52, "name": "Electrical Engineering"}, {"id": 52, "name": "EL ENG"}, {"id": 52, "name": "EE"}, {"id": 54, "name": "Energy and Resources Group"}, {"id": 54, "name": "ENE,RES"}, {"id": 55, "name": "Engineering"}, {"id": 55, "name": "ENGIN"}, {"id": 55, "name": "E"}, {"id": 56, "name": "English"}, {"id": 56, "name": "ENGLISH"}, {"id": 57, "name": "Environmental Design"}, {"id": 57, "name": "ENV DES"}, {"id": 3, "name": "Environmental Economics and Policy"}, {"id": 3, "name": "ENVECON"}, {"id": 58, "name": "Environmental Science, Policy, and Management"}, {"id": 58, "name": "ESPM"}, {"id": 59, "name": "Environmental Sciences"}, {"id": 59, "name": "ENV SCI"}, {"id": 60, "name": "Ethnic Studies"}, {"id": 60, "name": "ETH STD"}, {"id": 61, "name": "Ethnic Studies Graduate Group"}, {"id": 61, "name": "ETH GRP"}, {"id": 136, "name": "Eurasian Studies"}, {"id": 136, "name": "EURA ST"}, {"id": 22, "name": "Evening/Weekend MBA Program"}, {"id": 22, "name": "EWMBA"}, {"id": 162, "name": "Filipino"}, {"id": 162, "name": "FILIPN"}, {"id": 62, "name": "Film and Media"}, {"id": 62, "name": "FILM"}, {"id": 63, "name": "Folklore"}, {"id": 63, "name": "FOLKLOR"}, {"id": 64, "name": "French"}, {"id": 64, "name": "FRENCH"}, {"id": 21, "name": "Full-time Masters in Business Administration"}, {"id": 21, "name": "MBA"}, {"id": 65, "name": "Gender and Women's Studies"}, {"id": 65, "name": "GWS"}, {"id": 67, "name": "Geography"}, {"id": 67, "name": "GEOG"}, {"id": 68, "name": "German"}, {"id": 68, "name": "GERMAN"}, {"id": 1170, "name": "Global Metropolitan Studies"}, {"id": 1170, "name": "GMS"}, {"id": 204, "name": "Global Poverty and Practice"}, {"id": 204, "name": "GPP"}, {"id": 72, "name": "Graduate Student Professional Development Program"}, {"id": 72, "name": "GSPDP"}, {"id": 33, "name": "Greek"}, {"id": 33, "name": "GREEK"}, {"id": 74, "name": "Health and Medical Sciences"}, {"id": 74, "name": "HMEDSCI"}, {"id": 109, "name": "Hebrew"}, {"id": 109, "name": "HEBREW"}, {"id": 143, "name": "Hindi-Urdu"}, {"id": 143, "name": "HIN-URD"}, {"id": 75, "name": "History"}, {"id": 75, "name": "HISTORY"}, {"id": 12, "name": "History of Art"}, {"id": 12, "name": "HISTART"}, {"id": 155, "name": "Indigenous Languages of the Americas"}, {"id": 155, "name": "ILA"}, {"id": 76, "name": "Industrial Engineering and Operations Research"}, {"id": 76, "name": "IND ENG"}, {"id": 76, "name": "IEOR"}, {"id": 77, "name": "Information"}, {"id": 77, "name": "INFO"}, {"id": 78, "name": "Integrative Biology"}, {"id": 78, "name": "INTEGBI"}, {"id": 78, "name": "IB"}, {"id": 79, "name": "Interdisciplinary Studies Field Major"}, {"id": 79, "name": "ISF"}, {"id": 80, "name": "International and Area Studies"}, {"id": 80, "name": "IAS"}, {"id": 111, "name": "Iranian"}, {"id": 111, "name": "IRANIAN"}, {"id": 81, "name": "Italian Studies"}, {"id": 81, "name": "ITALIAN"}, {"id": 46, "name": "Japanese"}, {"id": 46, "name": "JAPAN"}, {"id": 82, "name": "Jewish Studies"}, {"id": 82, "name": "JEWISH"}, {"id": 83, "name": "Journalism"}, {"id": 83, "name": "JOURN"}, {"id": 144, "name": "Khmer"}, {"id": 144, "name": "KHMER"}, {"id": 48, "name": "Korean"}, {"id": 48, "name": "KOREAN"}, {"id": 84, "name": "Landscape Architecture"}, {"id": 84, "name": "LD ARCH"}, {"id": 73, "name": "Language Proficiency Program"}, {"id": 73, "name": "LAN PRO"}, {"id": 34, "name": "Latin"}, {"id": 34, "name": "LATIN"}, {"id": 85, "name": "Latin American Studies"}, {"id": 85, "name": "LATAMST"}, {"id": 86, "name": "Law"}, {"id": 86, "name": "LAW"}, {"id": 87, "name": "Legal Studies"}, {"id": 87, "name": "LEGALST"}, {"id": 66, "name": "Lesbian, Gay, Bisexual and Transgender Studies"}, {"id": 66, "name": "LGBT"}, {"id": 88, "name": "Letters and Science"}, {"id": 88, "name": "L & S"}, {"id": 89, "name": "Linguistics"}, {"id": 89, "name": "LINGUIS"}, {"id": 145, "name": "Malay/Indonesian"}, {"id": 145, "name": "MALAY/I"}, {"id": 90, "name": "Mass Communications"}, {"id": 90, "name": "MASSCOM"}, {"id": 24, "name": "Masters in Financial Engineering Program"}, {"id": 24, "name": "MFE"}, {"id": 91, "name": "Materials Science and Engineering"}, {"id": 91, "name": "MAT SCI"}, {"id": 91, "name": "MSE"}, {"id": 92, "name": "Mathematics"}, {"id": 92, "name": "MATH"}, {"id": 93, "name": "Mechanical Engineering"}, {"id": 93, "name": "MEC ENG"}, {"id": 93, "name": "ME"}, {"id": 160, "name": "Media Studies"}, {"id": 160, "name": "MEDIAST"}, {"id": 94, "name": "Medieval Studies"}, {"id": 94, "name": "MED ST"}, {"id": 95, "name": "Middle Eastern Studies"}, {"id": 95, "name": "M E STU"}, {"id": 96, "name": "Military Affairs"}, {"id": 96, "name": "MIL AFF"}, {"id": 98, "name": "Military Science"}, {"id": 98, "name": "MIL SCI"}, {"id": 100, "name": "Molecular and Cell Biology"}, {"id": 100, "name": "MCELLBI"}, {"id": 100, "name": "MCB"}, {"id": 101, "name": "Music"}, {"id": 101, "name": "MUSIC"}, {"id": 102, "name": "Nanoscale Science and Engineering"}, {"id": 102, "name": "NSE"}, {"id": 103, "name": "Native American Studies"}, {"id": 103, "name": "NATAMST"}, {"id": 104, "name": "Natural Resources"}, {"id": 104, "name": "NAT RES"}, {"id": 99, "name": "Naval Science"}, {"id": 99, "name": "NAV SCI"}, {"id": 105, "name": "Near Eastern Studies"}, {"id": 105, "name": "NE STUD"}, {"id": 114, "name": "Neuroscience"}, {"id": 114, "name": "NEUROSC"}, {"id": 115, "name": "New Media"}, {"id": 115, "name": "NWMEDIA"}, {"id": 115, "name": "CNM"}, {"id": 116, "name": "Nuclear Engineering"}, {"id": 116, "name": "NUC ENG"}, {"id": 116, "name": "NUCE"}, {"id": 117, "name": "Nutritional Sciences and Toxicology"}, {"id": 117, "name": "NUSCTX"}, {"id": 117, "name": "NST"}, {"id": 118, "name": "Optometry"}, {"id": 118, "name": "OPTOM"}, {"id": 120, "name": "Peace and Conflict Studies"}, {"id": 120, "name": "PACS"}, {"id": 110, "name": "Persian"}, {"id": 110, "name": "PERSIAN"}, {"id": 121, "name": "Philosophy"}, {"id": 121, "name": "PHILOS"}, {"id": 122, "name": "Physical Education"}, {"id": 122, "name": "PHYS ED"}, {"id": 123, "name": "Physics"}, {"id": 123, "name": "PHYSICS"}, {"id": 124, "name": "Plant and Microbial Biology"}, {"id": 124, "name": "PLANTBI"}, {"id": 125, "name": "Political Economy"}, {"id": 125, "name": "POLECON"}, {"id": 126, "name": "Political Science"}, {"id": 126, "name": "POL SCI"}, {"id": 153, "name": "Portuguese"}, {"id": 153, "name": "PORTUG"}, {"id": 11, "name": "Practice of Art"}, {"id": 11, "name": "ART"}, {"id": 127, "name": "Psychology"}, {"id": 127, "name": "PSYCH"}, {"id": 128, "name": "Public Health"}, {"id": 128, "name": "PB HLTH"}, {"id": 129, "name": "Public Policy"}, {"id": 129, "name": "PUB POL"}, {"id": 146, "name": "Punjabi"}, {"id": 146, "name": "PUNJABI"}, {"id": 130, "name": "Religious Studies"}, {"id": 130, "name": "RELIGST"}, {"id": 131, "name": "Rhetoric"}, {"id": 131, "name": "RHETOR"}, {"id": 147, "name": "Sanskrit"}, {"id": 147, "name": "SANSKR"}, {"id": 132, "name": "Scandinavian"}, {"id": 132, "name": "SCANDIN"}, {"id": 133, "name": "Science and Mathematics Education"}, {"id": 133, "name": "SCMATHE"}, {"id": 1182, "name": "Science and Technology Studies"}, {"id": 1182, "name": "STS"}, {"id": 1182, "name": "STS"}, {"id": 112, "name": "Semitics"}, {"id": 112, "name": "SEMITIC"}, {"id": 134, "name": "Slavic Languages and Literatures"}, {"id": 134, "name": "SLAVIC"}, {"id": 137, "name": "Social Welfare"}, {"id": 137, "name": "SOC WEL"}, {"id": 138, "name": "Sociology"}, {"id": 138, "name": "SOCIOL"}, {"id": 139, "name": "South and Southeast Asian Studies"}, {"id": 139, "name": "S,SEASN"}, {"id": 140, "name": "South Asian"}, {"id": 140, "name": "S ASIAN"}, {"id": 141, "name": "Southeast Asian"}, {"id": 141, "name": "SEASIAN"}, {"id": 152, "name": "Spanish"}, {"id": 152, "name": "SPANISH"}, {"id": 156, "name": "Statistics"}, {"id": 156, "name": "STAT"}, {"id": 156, "name": "STATS"}, {"id": 148, "name": "Tagalog"}, {"id": 148, "name": "TAGALG"}, {"id": 149, "name": "Tamil"}, {"id": 149, "name": "TAMIL"}, {"id": 161, "name": "Telugu"}, {"id": 161, "name": "TELUGU"}, {"id": 150, "name": "Thai"}, {"id": 150, "name": "THAI"}, {"id": 157, "name": "Theater, Dance, and Performance Studies"}, {"id": 157, "name": "THEATER"}, {"id": 49, "name": "Tibetan"}, {"id": 49, "name": "TIBETAN"}, {"id": 113, "name": "Turkish"}, {"id": 113, "name": "TURKISH"}, {"id": 158, "name": "Undergraduate and Interdisciplinary Studies"}, {"id": 158, "name": "UGIS"}, {"id": 20, "name": "Undergraduate Business Administration"}, {"id": 20, "name": "UGBA"}, {"id": 151, "name": "Vietnamese"}, {"id": 151, "name": "VIETNMS"}, {"id": 119, "name": "Vision Science"}, {"id": 119, "name": "VIS SCI"}, {"id": 10, "name": "Visual Studies"}, {"id": 10, "name": "VIS STD"}, {"id": 69, "name": "Yiddish"}, {"id": 69, "name": "YIDDISH"}];

results = [];
while (departments.length > 0) {
  // Grab next pair of records
	var fullNameObj = departments.shift();
	var abbrevObj = departments.shift();
	// Assert records are for the same department
	if (fullNameObj.id != abbrevObj.id) {
		console.error("IDs for adjacent records do not match.");
	}
	// Select needed data (uppercase to enable case-insensitive matching)
	var id = fullNameObj.id;
	var fullName = fullNameObj.name.toUpperCase();
	var abbrevName = abbrevObj.name.toUpperCase();
	// Gather aliases (if available)
	var aliases = [];
	while (departments.length > 0 && departments[0].id == id) {
		aliases.push(departments.shift().name.toUpperCase());
	}
	// Record results
	results.push({"id": id,
	              "full": fullName,
								"code": abbrevName,
								"aliases": aliases});
}
// Output results
console.log(JSON.stringify(results));
